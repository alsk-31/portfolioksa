  $(window).scroll(function () {
    if ($(this).scrollTop() > 500) {
         $('#back-top').fadeIn();
    } else {
        $('#back-top').fadeOut();
    }
});

//이미지파일만 업로드
  $(document).on('change','.fileUp01, .fileUp02, .fileUp03',function(){
  		var fileattr = $(this).val().split(".").pop().toLowerCase();
  		if($.inArray(fileattr,["jpg","jpeg","png","pdf"]) == -1){
  			alert("이미지, PDF 파일만 업로드 해주세요.");
  			$(this).val("");
  			return;
  		}
  	});


//사이트맵
var checkBox ;

 $(document).ready(function() {
 $('#back-top').click(function () {
    $('body,html').animate({
         scrollTop: 0
    }, 200);
         return false;
   });

//메인_썸네일게시판_액션
	if($(".main_thum").length>0){
		$(".store_slide li").on("mouseenter",function(){
			$(this).addClass("over");
			$(this).on("mouseleave",function(){
				$(this).removeClass("over");
			});
		});

		$(".main_list li").on("mouseenter",function(){
			$(this).addClass("over");
		$(this).on("mouseleave",function(){
			$(this).removeClass("over");
			});
		});

		$(".main_cover dl").on("mouseenter",function(){
			$(this).addClass("over");
			$(this).on("mouseleave",function(){
				$(this).removeClass("over");
			});
		});
	}

//서브_썸네일게시판_액션
	if($(".thum").length>0){
		$(".thumbnail li").on("mouseenter",function(){
			$(this).addClass("over");
			$(this).on("mouseleave",function(){
				$(this).removeClass("over");
			});
		});

		$(".thumbnail dl").on("mouseenter",function(){
			$(this).addClass("over");
			$(".after_wrap").show();
			$(this).on("mouseleave",function(){
				$(this).removeClass("over");
			});
		});

		$(".ImgTit").on("mouseenter",function(){
			$(this).addClass("over");
			$(".after_img").show();
			$(this).on("mouseleave",function(){
				$(this).removeClass("over");
				$(".after_img").hide();
			});
		});
	}


//체크박스
//	$('.checkBox label').click(function(){
//		checkBox = $(this).parent('.checkBox')
//		if(checkBox.hasClass('checked')){
//			checkBox.removeClass('checked');
//		}else{
//			checkBox.addClass('checked');
//		}
//	})


//공유팝업
$("a.link").click(function(){
		$(".link_wrap").show();
	});
	$(".link_close").click(function(){
		$(".link_wrap").hide();
	});


$("a.linkA").click(function(){
		$(".link_wrapA").show();
	});
	$(".link_closeA").click(function(){
		$(".link_wrapA").hide();
	});


$("a.linkB").click(function(){
		$(".link_wrapB").show();
	});
	$(".link_closeB").click(function(){
		$(".link_wrapB").hide();
	});

$("a.linkC").click(function(){
		$(".link_wrapC").show();
	});
	$(".link_closeC").click(function(){
		$(".link_wrapC").hide();
	});

$("a.linkD").click(function(){
		$(".link_wrapD").show();
	});
	$(".link_closeD").click(function(){
		$(".link_wrapD").hide();
	});

  $("a.link").click(function(){
    var left = ( $(window).scrollLeft() + ( $(window).width() - $('.link_wrapE').width()) / 2 );
    var top = ( $(window).scrollTop() + ( $(window).height() - $('.link_wrapE').height()) / 2 );
    $('.link_wrapE').css({'left':left,'top':top, 'position':'absolute'});
  		$(".link_wrapE").show();
  	});
  	$(".link_close").click(function(){
  		$(".link_wrapE").hide();
  	});
	
	
  $("a.linkBran").click(function(e){
  console.log(e);
    let left = ( $(window).scrollLeft()+ 689);
	let topY = event.pageY-650; 

	$('.shareLink_wrap').css({'left':left,'top':topY, 'position':'absolute'});
  		$(".shareLink_wrap").show();
  	});
  	$(".link_close").click(function(){
  		$(".shareLink_wrap").hide();
		
  	});
//인쇄광고 팝업
$("a.link_pit").click(function(){

		$(".link_wrap_pit").show();
	});
	$(".link_close_pit").click(function(){
		$(".link_wrap_pit").hide();
	});

});





//메인 배너
$(function(){
	//notice
   var slider = $('.notice_slide').bxSlider({
   speed:500,
	pager:true,
	moveSlides:1,
	slideWidth:570,
	minSlides:1,
	//auto:true,
	auto: ($(".notice_slide a").length > 1) ? true : false,
	autoHover:true,
	controls:false
  });
	//store
 var slider = $('.store_slide').bxSlider({
    speed:500,
	pause:5000,
	pager:true,
	moveSlides:1,
	slideWidth:570,
	slideHeight:250,
	minSlides:1,
	auto:true,
	autoHover:true,
	controls:false
  });
	//blog
	var slider = $('.blog_slide').bxSlider({
	speed:1000,
	pause:5000,
	pager:true,
	moveSlides:1,
	slideWidth:670,
	slideHeight:380,
	minSlides:1,
	auto:true,
	autoHover:true,
	controls:false
  });

//컬러트렌드
var slider = $('.img_top').bxSlider({
	speed:1000,
	pause:5000,
	pager:false,
	moveSlides:1,
	slideWidth:300,
	slideHeight:250,
	minSlides:3,
	maxSlides:3,
	slideMargin:25,
	auto:true,
	autoHover:true,
	controls:true
  });

  $(document).on('click','a.bx-pager-link','bx-prev','bx-next',function() {
    slider.stopAuto();
    slider.startAuto();
	});
});


	$(function() {
	$("his-bx").css('height','500px');
	});


//서브배너

$(function(){
   //var slider = $('.listNews div ul').bxSlider({
   // speed:500,
	//minSlides:1,
	//maxSlides:3,
	//slideWidth:300,
	//controls:true
 // });

	var slider = $('.video_right ul').bxSlider({
	mode:"vertical",
    speed:1000,
	moveSlides:1,
	minSlides:3,
	maxSlides:3,
	slideWidth:190,
	slideMargin:20,
	controls:true
  });
});


//footer_배너롤링
var slideObject;
	$(function(){
		slideObject=$('.family_list').bxSlider({
			speed:500,
			pager:false,
			moveSlides:1,
			slideWidth:200,
			minSlides:5,
			maxSlides:5,
			slideMargin:25,
			auto:true,
			autoHover:true,
			controls:false
		});

	$(".family_slide_area .family_prev").on("click",function(e){
		slideObject.goToPrevSlide();
		e.preventDefault();
	})

	$(".family_slide_area .family_next").on("click",function(e){
		slideObject.goToNextSlide();
		e.preventDefault();
	})
});

/*브랜드사이트*/
jQuery(function($){
	$('.familysite .t_color').click(
		function() {
			$(this).next('ul').toggle();
			$(this).toggleClass('hide');
			return false;
	});
});


//가상페인팅 서비스


$(window).load(function(){
	$(".virt_info").each(function(){
		var _this = $(this);
		var imgWid = _this.find(".after_img").width();

		_this.mousemove(function(e){
			var event = e;
			var offset = $(this).offset().left;
			if((event.clientX - offset) > 10 && (event.clientX - offset) < imgWid - 10){
				$(this).find(".before_img").width(event.clientX - offset);
			}
		});
	});
});

//제품소개 사진 슬라이드
$(function(){
	var slider = $('.pro_slider').bxSlider({
		mode:"fade",
		slideWidth:400,
		slideHeight:400,
		auto:false,
		controls:true,
		moveSlides:1,
		infiniteLoop:false,
		hideControlOnEnd:true,
		pagerCustom:'.pro_pager'
	});
});




//대리점안내 사진 슬라이드
$(function(){
	var slider = $('.info_slider').bxSlider({
		speed:500,
		auto:false,
		controls:false,
	   pagerCustom:'.pager'
	});
	$(document).on('click','.pager a',function() {
		slider.stopAuto();
		slider.startAuto();
	});
});

//홍보자료실-인쇄 사진 슬라이드

$(function(){
	var slider = $('.print_slider').bxSlider({
		mode:"fade",
		slideWidth:425,
		moveSlides:1,
		controls:false,
		pagerCustom:'.pir_pager'
	});
});



 $(window).load(function(){
	//나눔경영 사진 슬라이드
	var slider = $('.share_slider').bxSlider({
		moveSlides:1,
		speed:500,
		pause:5000,
		slideWidth:950,
		slideHeight:600,
		auto:true,
		autoHover:true,
		controls:true,
	   pagerCustom:'.share_pager'
	});
	$(document).on('click','.share_pager a, .bx-prev, .bx-next', function() {
		slider.stopAuto();
		slider.startAuto();
	});
});

 $(document).ready(function() {
	//컬러트렌드 사진 슬라이드
	var slider = $('.colorcnt_slider').bxSlider({
		moveSlides:1,
		speed:500,
		pause:5000,
		slideWidth:950,
		slideHeight:640,
		auto:true,
		autoHover:true,
		controls:true,
	   pagerCustom:'.colorcnt_pager'
	});

	//특화디자인 사진 슬라이드
	var slider = $('.colorcnt_slider02').bxSlider({
		moveSlides:1,
		speed:500,
		pause:5000,
		slideWidth:950,
		slideHeight:640,
		auto:true,
		autoHover:true,
		controls:true,
	   pagerCustom:'.colorcnt_pager02'
	});

	$(document).on('click','.colorcnt_pager a, .colorcnt_pager02 a, .bx-prev, .bx-prev02, .bx-next02, .bx-next', function() {
		slider.stopAuto();
		slider.startAuto();
	});
});


$(document).ready(function() {

//라디오광고 음성 플레이어
$(".audio_play").on('click', function(){
	var $audioPlay = $(this).parents(".play_list");
	console.log($audioPlay.attr("class"))
	if($audioPlay.hasClass('play')){
		$audioPlay.removeClass('play');
		$audioPlay.addClass('stop');
		$(this).siblings('.audioPlayer')[0].pause();
	}else{
		$audioPlay.addClass('play');
		$audioPlay.removeClass('stop');
		$(this).siblings(".audioPlayer")[0].play();
	}
  });
});

 $(window).load(function(){
		$(".str ul.list_ul").slideToggle(600);
		$(".str ul.list_ul").toggleClass("selected");
});



//지점/영업소안내
function listDown( menu ){
	var v_id;
	var aTag = $(this).parent().offset();
	//setTimeout(function() { $("html,body").animate({scrollTop:'500'}),"fast" });

	$(".listDown").each(function(){
		v_id = $(this).attr("id");
		if(menu == v_id){
			if($(this).parent().find("ul").css("display") == "block"){
				$(this).parent().find("ul").slideUp();
				$(this).parent().removeClass("selected");

			}else{
				$(this).parent().find("ul").slideDown();
				$(this).parent().addClass("selected");
			}
		}else{
			$(this).parent().find("ul").slideUp();
			$(this).parent().removeClass("selected");
		}
	});

	if(menu == "branch_office")
	// 지점 지도
	map_model_open('37.566402402703794','126.99213556362022', '서울지점', '서울특별시 중구 을지로 127 3층', '02-6359-7701', 'N', 'branch_office');
	else if (menu == "colormate")
	// colormate 지도
	map_model_open('37.4121691208586','127.19956407575239', '칼라메이트㈜ 광주물류센터', '경기도 광주시 순암로 492번길 18', '031-762-7204', 'N', 'colormate');
}


//컬러디자인센터
function colorDown( menu ){
	var color_id;
	var aTag = $(".colorCenterTab");
	setTimeout(function() { $("html,body").animate({scrollTop:(aTag.offset().top)}),"fast" });

	$(".colorDown").each(function(){
		color_id = $(this).attr("id");
		if(menu == color_id){
			if($(this).parent().find("ul").css("display") == "block"){
				$(this).parent().find("ul").slideUp();
				$(this).parent().removeClass("selected");

			}else{
				$(this).parent().find("ul").slideDown();
				$(this).parent().addClass("selected");
			}
		}else{
			$(this).parent().find("ul").slideUp();
			$(this).parent().removeClass("selected");
		}
	});
}


//팝업띄우기(새창)
function pop_window(popurl,pWidth,pHeight,param)
{
	pLeft=(screen.width-pWidth)/2;
	pTop=(screen.height-pHeight)/2;
	window.open(popurl,"printing","menubar=yes,width="+pWidth+",height="+pHeight+",left="+pLeft+",top="+pTop+",scrollbars=yes");
}


//
$(function(){
	var tab = $(".searchTab ul li");
	tab.click(function(){
		tab.removeClass("on");
		$(this).addClass("on");
	})
})
$(document).ready(function() {
	//Default Action
	$(".color_content").hide(); //Hide all content
	$("div.colorCenterTab li:first").addClass("active").show(); //Activate first tab
	$(".color_content:first").show(); //Show first tab content

	//On Click Event
	$("div.colorCenterTab li").click(function() {
		$("div.colorCenterTab li").removeClass("active"); //Remove any "active" class
		$(this).addClass("active"); //Add "active" class to selected tab
		$(".color_content").hide(); //Hide all tab content
		var activeTab = $(this).find("a").attr("href");
		$(activeTab).fadeIn();
		return false;
	});
});



//통합검색 탭
//$(function(){
//	var tab = $(".searchTab ul li");
//	tab.click(function(){
//		tab.removeClass("on");
//		$(this).addClass("on");
//	})
//})
//$(document).ready(function() {
	//Default Action
//	$(".tab_content").hide(); //Hide all content
//	$("div.searchTab li:first").addClass("active").show(); //Activate first tab
//	$(".tab_content:first").show(); //Show first tab content

	//On Click Event
//	$("div.searchTab li").click(function() {
//		$("div.searchTab li").removeClass("active"); //Remove any "active" class
//		$(this).addClass("active"); //Add "active" class to selected tab
//		$(".tab_content").hide(); //Hide all tab content
//		var activeTab = $(this).find("a").attr("href");
//		$(activeTab).fadeIn();
//		return false;
//	});
//});


//제품 탭
//$(function(){
//	var tab = $(".tabB tr td");
//	tab.click(function(){
//		tab.removeClass("on");
//		$(this).addClass("on");
//	})
//})
//$(document).ready(function() {
	//Default Action
//	$(".tab_content").hide(); //Hide all content
//	$("table.tabB tr td:first").addClass("active").show(); //Activate first tab
//	$(".tab_content:first").show(); //Show first tab content

//	//On Click Event
//	$("table.tabB tr td").click(function() {
//		$("table.tabB tr td").removeClass("active"); //Remove any "active" class
//		$(this).addClass("active"); //Add "active" class to selected tab
//		$(".tab_content").hide(); //Hide all tab content
//		var activeTab = $(this).find("a").attr("href");
//		$(activeTab).fadeIn();
//		return false;
//	});
//});


/*로그인 체크받스(하우홈매거진)*/
$(document).ready(function() {
	$("#howhome_yes").on('click', function(){
		$("tr.trInput").show();
	  });
	$("#howhome_no").on('click', function(){
		$("tr.trInput").hide();
	  });
});




/* 공유하기 */
Kakao.init('684c5a774f9a6ad3ceddca629a7cfce4');
function shareURL(type,title,urlDetail)
{
	var URL = location.href;
	if ($("#SHARE_IDX").val() != "" && urlDetail != "" )	//상세 글 번호를 히든값으로 받는 경우
	{
		if ($("#SHARE_MENUNAME").val() != "" )
		{
			if ($("#SHARE_MENUNAME").val() == "01") //sns
				{urlDetail = "/story/sns/view?no="; }
			else if($("#SHARE_MENUNAME").val() == "02"){
				urlDetail = "/story/Theme/view?no=";
			}
		}

  //URL = location.host + urlDetail+$("#SHARE_IDX").val();
  URL = 'http://m.noroopaint.com' + urlDetail+$("#SHARE_IDX").val();

	}
	if (title == "SHARE_TITLE"){
		title =  $("#SHARE_TITLE").val();
	}

	//alert(URL + " / " + title );

	if(type =="f")
	{
		var newWindow = window.open("about:blank",'width:300','height=400');
		newWindow.location.href = "https://www.facebook.com/sharer.php?t="+encodeURIComponent(title.replace(/#@#/gi, "\"").replace(/!@!/gi, "\'").replace(/<br>/gi, " "))+"&u="+encodeURI(URL);
	}
	else if (type == "k")
	{
		 Kakao.Story.share({
			url: URL,
			text: title.replace(/#@#/gi, "\"").replace(/!@!/gi, "\'").replace(/<br>/gi, " ")
		  });
	}
	else if (type =="t")
	{
		var newWindow = window.open("about:blank",'width:300','height=400');
		newWindow.location.href = "https://twitter.com/home?status=" + encodeURIComponent(title.replace(/#@#/gi, "\"").replace(/!@!/gi, "\'").replace(/<br>/gi, " ")) + " " +encodeURI(URL);
	}
	else if (type =="n")
	{
		var newWindow = window.open("about:blank",'width:650','height=500');
		newWindow.location.href = "https://share.naver.com/web/shareView.nhn?title=" + encodeURIComponent(title.replace(/#@#/gi, "\"").replace(/!@!/gi, "\'").replace(/<br>/gi, " ")) + "&url=" +encodeURI(URL);
	}
	else if (type =="m")
	{
//		var locationwin = "mailto:?subject="+title+"&body=" + urlDetail;

		var locationwin = "mailto:?subject="+title.replace(/\+/gi, " ")+"&body=" + title.replace(/\+/gi, " ") + "%0D%0A" + urlDetail;
		document.location.href = locationwin;
	}
}

function copy_trackback(trb) {
	var IE=(document.all)?true:false;
	if (IE) {
		window.clipboardData.setData("Text", trb);
	} else {
		temp = prompt("이 글의 트랙백 주소입니다. Ctrl+C를 눌러 클립보드로 복사하세요", trb);
	}
}

/**
 * 단축url 키등록
 */
function load() {
    gapi.client.setApiKey('AIzaSyDgqECO3xKt5bvQq7kLFSWEe8DbNemHyAU');
    gapi.client.load('urlshortener', 'v1',function(){});
}

function call_shorturl(getype, title) {
	var longURL = document.location.href;
	var apiurl = "https://api-ssl.bitly.com/v4/shorten";
	var accessToken ="fa0ac23c063048e48116fcb8b5360abb3749dd5a";
	var jdata = {
		"long_url" : longURL,
//		"domain": "bit.ly",
//		"group_guid" : "o_1bk5hn8kat"
		};
		
	async function shortenUrl(){
		const res = await fetch(apiurl, {
				method: 'POST',
				headers: {
					'Authorization': "Bearer "+accessToken,
					'Content-Type': 'application/json'
				},
				body: JSON.stringify(jdata)
				})
			
			var data = await res.json();
		
		if(data ==="" || data ==="undefined" || data === null){
				alert("데이터가 없습니다.")
			}else {
				callback_in(data.link,getype,title)
			}
					
		}


	shortenUrl();
	/*//longURL = longURL.replace("https://", "http://");
//	var request = gapi.client.urlshortener.url.insert({
//		'resource' : {
//			'longUrl' : longURL
//		}
//	});
//	request.execute(function(response) {
//		if (response.id != null) {
//			//console.log(response.id);
//			callback_in(response.id, getype, title);
//		} else {
//			console.log("error: creating short url");
//		}
//	});
//	var bitlyurl = "https://api.bit.ly/v3/shorten?login=o_1bk5hn8kat&apikey=R_ba7713309c4a395bd8a28f0e5231c002&longurl="+longURL+"&format=json";
	var bitlyurl = "https://api-ssl.bitly.com/v3/shorten?login=o_1bk5hn8kat&apikey=R_ba7713309c4a395bd8a28f0e5231c002&longurl="+longURL+"&format=json";
	//var bitlyurl = "https://api-ssl.bitly.com/v3/shorten?login=o_1bk5hn8kat&apikey=fa0ac23c063048e48116fcb8b5360abb3749dd5a&longurl="+longURL+"&format=json";
	
	jQuery.getJSON(bitlyurl, function(result, status){
		console.log(result);
		console.log(status);
		if(result.status_txt == "OK") {
			callback_in(result.data.url, getype, title);
		} else {
			console.log("error: creating short url");
		}
	});*/
}

function callback_in(shorturl, getype, title) {
	//$("#shorturl").val(shorturl);
	if(getype=="M") {		// 이메일 공유
		shareURL('m', title, shorturl);
	}else {	// URL 복사
		//copy_trackback(shorturl);
		var tempInput = document.createElement("input");
		tempInput.style = "position: absolute; left: -1000px; top: -1000px";
		tempInput.value = shorturl;
		document.body.appendChild(tempInput);
		tempInput.select();
		document.execCommand("copy");
		document.body.removeChild(tempInput);
		alert("이 글의 주소가 복사되었습니다.\n게시판이나 메신저 창에서 Ctrl+V 를 눌러보세요.");

	}
}
